"use strict";(self.webpackChunkthe_open_alliance=self.webpackChunkthe_open_alliance||[]).push([[342],{5576:function(e,n,t){var r;t.d(n,{JA:function(){return F},KK:function(){return Fe},NI:function(){return Be},XI:function(){return re},YF:function(){return We},bQ:function(){return je},c0:function(){return ze},eS:function(){return Ke},ll:function(){return Re},ox:function(){return $e},qq:function(){return w},qs:function(){return Qe},vs:function(){return W},wD:function(){return Te},xp:function(){return nn},y0:function(){return Ae}});var o=t(4942),u=t(2982),i=t(4925),c=t(885),l=(t(4687),t(4944),t(3792),t(7294)),a=t(8217),f=t(4933),s=t(4764),d=t(6478),v=t(7901),p=t(3935),m=["lockScroll"];function g(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function h(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,u=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw u}}}}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function w(e){return l.useMemo((function(){return e.every((function(e){return null==e}))?null:function(n){e.forEach((function(e){"function"==typeof e?e(n):null!=e&&(e.current=n)}))}}),e)}var k=(r||(r=t.t(l,2)))["useInsertionEffect".toString()]||function(e){return e()};function R(e){var n=l.useRef((function(){0}));return k((function(){n.current=e})),l.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current.apply(n,t)}),[])}var x="ArrowUp",I="ArrowDown",M="ArrowLeft",O="ArrowRight";function C(e,n,t){return Math.floor(e/n)!==t}function T(e,n){return n<0||n>=e.current.length}function L(e,n){return P(e,{disabledIndices:n})}function A(e,n){return P(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:n})}function P(e,n){var t=void 0===n?{}:n,r=t.startingIndex,o=void 0===r?-1:r,u=t.decrement,i=void 0!==u&&u,c=t.disabledIndices,l=t.amount,a=void 0===l?1:l,f=e.current,s=c?function(e){return c.includes(e)}:function(e){var n=f[e];return null==n||n.hasAttribute("disabled")||"true"===n.getAttribute("aria-disabled")},d=o;do{d+=i?-a:a}while(d>=0&&d<=f.length-1&&s(d));return d}function S(e,n){var t=n.event,r=n.orientation,o=n.loop,u=n.cols,i=n.disabledIndices,c=n.minIndex,l=n.maxIndex,s=n.prevIndex,d=n.stopEvent,v=void 0!==d&&d,p=s;if(t.key===x){if(v&&(0,a.p7)(t),-1===s)p=l;else if(p=P(e,{startingIndex:p,amount:u,decrement:!0,disabledIndices:i}),o&&(s-u<c||p<0)){var m=s%u,g=l%u,b=l-(g-m);p=g===m?l:g>m?b:b-u}T(e,p)&&(p=s)}if(t.key===I&&(v&&(0,a.p7)(t),-1===s?p=c:(p=P(e,{startingIndex:s,amount:u,disabledIndices:i}),o&&s+u>l&&(p=P(e,{startingIndex:s%u-u,amount:u,disabledIndices:i}))),T(e,p)&&(p=s)),"both"===r){var y=(0,f.GW)(s/u);t.key===O&&(v&&(0,a.p7)(t),s%u!=u-1?(p=P(e,{startingIndex:s,disabledIndices:i}),o&&C(p,u,y)&&(p=P(e,{startingIndex:s-s%u-1,disabledIndices:i}))):o&&(p=P(e,{startingIndex:s-s%u-1,disabledIndices:i})),C(p,u,y)&&(p=s)),t.key===M&&(v&&(0,a.p7)(t),s%u!=0?(p=P(e,{startingIndex:s,disabledIndices:i,decrement:!0}),o&&C(p,u,y)&&(p=P(e,{startingIndex:s+(u-s%u),decrement:!0,disabledIndices:i}))):o&&(p=P(e,{startingIndex:s+(u-s%u),decrement:!0,disabledIndices:i})),C(p,u,y)&&(p=s));var h=(0,f.GW)(l/u)===y;T(e,p)&&(p=o&&h?t.key===M?l:P(e,{startingIndex:s-s%u-1,disabledIndices:i}):s)}return p}var K=0;function D(e,n){void 0===n&&(n={});var t=n,r=t.preventScroll,o=void 0!==r&&r,u=t.cancelPrevious,i=void 0===u||u,c=t.sync,l=void 0!==c&&c;i&&cancelAnimationFrame(K);var a=function(){return null==e?void 0:e.focus({preventScroll:o})};l?a():K=requestAnimationFrame(a)}var N="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;function Z(e,n){var t=e.compareDocumentPosition(n);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}var j=l.createContext({register:function(){},unregister:function(){},map:new Map,elementsRef:{current:[]}});function W(e){var n=e.children,t=e.elementsRef,r=e.labelsRef,o=l.useState((function(){return new Map})),u=(0,c.Z)(o,2),i=u[0],a=u[1],f=l.useCallback((function(e){a((function(n){return new Map(n).set(e,null)}))}),[]),s=l.useCallback((function(e){a((function(n){var t=new Map(n);return t.delete(e),t}))}),[]);return N((function(){var e=new Map(i);Array.from(e.keys()).sort(Z).forEach((function(n,t){e.set(n,t)})),function(e,n){if(e.size!==n.size)return!1;var t,r=h(e.entries());try{for(r.s();!(t=r.n()).done;){var o=(0,c.Z)(t.value,2),u=o[0];if(o[1]!==n.get(u))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(i,e)||a(e)}),[i]),l.createElement(j.Provider,{value:l.useMemo((function(){return{register:f,unregister:s,map:i,elementsRef:t,labelsRef:r}}),[f,s,i,t,r])},n)}function F(e){var n=(void 0===e?{}:e).label,t=l.useState(null),r=(0,c.Z)(t,2),o=r[0],u=r[1],i=l.useRef(null),a=l.useContext(j),f=a.register,s=a.unregister,d=a.map,v=a.elementsRef,p=a.labelsRef,m=l.useCallback((function(e){if(i.current=e,null!==o&&(v.current[o]=e,p)){var t,r=void 0!==n;p.current[o]=r?n:null!=(t=null==e?void 0:e.textContent)?t:null}}),[o,v,p,n]);return N((function(){var e=i.current;if(e)return f(e),function(){s(e)}}),[f,s]),N((function(){var e=i.current?d.get(i.current):null;null!=e&&u(e)}),[d]),l.useMemo((function(){return{ref:m,index:null==o?-1:o}}),[o,m])}var _=[M,O],U=[x,I];[].concat(_,U);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},q.apply(this,arguments)}var B=!1,H=0,V=function(){return"floating-ui-"+H++};var X=(r||(r=t.t(l,2)))["useId".toString()]||function(){var e=l.useState((function(){return B?V():void 0})),n=(0,c.Z)(e,2),t=n[0],r=n[1];return N((function(){null==t&&r(V())}),[]),l.useEffect((function(){B||(B=!0)}),[]),t};function Y(){var e=new Map;return{emit:function(n,t){var r;null==(r=e.get(n))||r.forEach((function(e){return e(t)}))},on:function(n,t){e.set(n,[].concat((0,u.Z)(e.get(n)||[]),[t]))},off:function(n,t){var r;e.set(n,(null==(r=e.get(n))?void 0:r.filter((function(e){return e!==t})))||[])}}}var G=l.createContext(null),z=l.createContext(null),J=function(){var e;return(null==(e=l.useContext(G))?void 0:e.id)||null},Q=function(){return l.useContext(z)};function $(e){return"data-floating-ui-"+e}function ee(e){var n=(0,l.useRef)(e);return N((function(){n.current=e})),n}var ne=$("safe-polygon");function te(e,n,t){return t&&!(0,a.r)(t)?0:"number"==typeof e?e:null==e?void 0:e[n]}function re(e,n){void 0===n&&(n={});var t=e.open,r=e.onOpenChange,o=e.dataRef,u=e.events,i=e.elements,c=i.domReference,f=i.floating,d=e.refs,v=n,p=v.enabled,m=void 0===p||p,g=v.delay,b=void 0===g?0:g,h=v.handleClose,E=void 0===h?null:h,w=v.mouseOnly,k=void 0!==w&&w,R=v.restMs,x=void 0===R?0:R,I=v.move,M=void 0===I||I,O=Q(),C=J(),T=ee(E),L=ee(b),A=l.useRef(),P=l.useRef(),S=l.useRef(),K=l.useRef(),D=l.useRef(!0),Z=l.useRef(!1),j=l.useRef((function(){})),W=l.useCallback((function(){var e,n=null==(e=o.current.openEvent)?void 0:e.type;return(null==n?void 0:n.includes("mouse"))&&"mousedown"!==n}),[o]);l.useEffect((function(){if(m)return u.on("openchange",e),function(){u.off("openchange",e)};function e(e){e.open||(clearTimeout(P.current),clearTimeout(K.current),D.current=!0)}}),[m,u]),l.useEffect((function(){if(m&&T.current&&t){var e=(0,a.Me)(f).documentElement;return e.addEventListener("mouseleave",n),function(){e.removeEventListener("mouseleave",n)}}function n(e){W()&&r(!1,e,"hover")}}),[f,t,r,m,T,o,W]);var F=l.useCallback((function(e,n,t){void 0===n&&(n=!0),void 0===t&&(t="hover");var o=te(L.current,"close",A.current);o&&!S.current?(clearTimeout(P.current),P.current=setTimeout((function(){return r(!1,e,t)}),o)):n&&(clearTimeout(P.current),r(!1,e,t))}),[L,r]),_=l.useCallback((function(){j.current(),S.current=void 0}),[]),U=l.useCallback((function(){if(Z.current){var e=(0,a.Me)(d.floating.current).body;e.style.pointerEvents="",e.removeAttribute(ne),Z.current=!1}}),[d]);return l.useEffect((function(){if(m&&(0,s.kK)(c)){var n=c;return t&&n.addEventListener("mouseleave",d),null==f||f.addEventListener("mouseleave",d),M&&n.addEventListener("mousemove",i,{once:!0}),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",l),function(){t&&n.removeEventListener("mouseleave",d),null==f||f.removeEventListener("mouseleave",d),M&&n.removeEventListener("mousemove",i),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",l)}}function u(){return!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)}function i(e){if(clearTimeout(P.current),D.current=!1,!(k&&!(0,a.r)(A.current)||x>0&&0===te(L.current,"open"))){var n=te(L.current,"open",A.current);n?P.current=setTimeout((function(){r(!0,e,"hover")}),n):r(!0,e,"hover")}}function l(n){if(!u()){j.current();var r=(0,a.Me)(f);if(clearTimeout(K.current),T.current){t||clearTimeout(P.current),S.current=T.current(y(y({},e),{},{tree:O,x:n.clientX,y:n.clientY,onClose:function(){U(),_(),F(n,!0,"safe-polygon")}}));var o=S.current;return r.addEventListener("mousemove",o),void(j.current=function(){r.removeEventListener("mousemove",o)})}("touch"!==A.current||!(0,a.r3)(f,n.relatedTarget))&&F(n)}}function d(n){u()||null==T.current||T.current(y(y({},e),{},{tree:O,x:n.clientX,y:n.clientY,onClose:function(){U(),_(),F(n)}}))(n)}}),[c,f,m,e,k,x,M,F,_,U,r,t,O,L,T,o]),N((function(){var e;if(m&&t&&null!=(e=T.current)&&e.__options.blockPointerEvents&&W()){var n=(0,a.Me)(f).body;if(n.setAttribute(ne,""),n.style.pointerEvents="none",Z.current=!0,(0,s.kK)(c)&&f){var r,o=c,u=null==O||null==(r=O.nodesRef.current.find((function(e){return e.id===C})))||null==(r=r.context)?void 0:r.elements.floating;return u&&(u.style.pointerEvents=""),o.style.pointerEvents="auto",f.style.pointerEvents="auto",function(){o.style.pointerEvents="",f.style.pointerEvents=""}}}}),[m,t,C,f,c,O,T,o,W]),N((function(){t||(A.current=void 0,_(),U())}),[t,_,U]),l.useEffect((function(){return function(){_(),clearTimeout(P.current),clearTimeout(K.current),U()}}),[m,c,_,U]),l.useMemo((function(){if(!m)return{};function e(e){A.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove:function(e){t||0===x||(clearTimeout(K.current),K.current=setTimeout((function(){D.current||r(!0,e.nativeEvent,"hover")}),x))}},floating:{onMouseEnter:function(){clearTimeout(P.current)},onMouseLeave:function(e){F(e.nativeEvent,!1)}}}}),[m,x,t,r,F])}function oe(e,n){for(var t=e.filter((function(e){var t;return e.parentId===n&&(null==(t=e.context)?void 0:t.open)})),r=t;r.length;)r=e.filter((function(e){var n;return null==(n=r)?void 0:n.some((function(n){var t;return e.parentId===n.id&&(null==(t=e.context)?void 0:t.open)}))})),t=t.concat(r);return t}var ue=new WeakMap,ie=new WeakSet,ce={},le=0,ae=function e(n){return n&&(n.host||e(n.parentNode))};function fe(e,n,t,r){var o,u="data-floating-ui-inert",i=r?"inert":t?"aria-hidden":null,c=(o=n,e.map((function(e){if(o.contains(e))return e;var n=ae(e);return o.contains(n)?n:null})).filter((function(e){return null!=e}))),l=new Set,a=new Set(c),f=[];ce[u]||(ce[u]=new WeakMap);var s=ce[u];return c.forEach((function e(n){if(!n||l.has(n))return;l.add(n),n.parentNode&&e(n.parentNode)})),function e(n){if(!n||a.has(n))return;Array.prototype.forEach.call(n.children,(function(n){if(l.has(n))e(n);else{var t=i?n.getAttribute(i):null,r=null!==t&&"false"!==t,o=(ue.get(n)||0)+1,c=(s.get(n)||0)+1;ue.set(n,o),s.set(n,c),f.push(n),1===o&&r&&ie.add(n),1===c&&n.setAttribute(u,""),!r&&i&&n.setAttribute(i,"true")}}))}(n),l.clear(),le++,function(){f.forEach((function(e){var n=(ue.get(e)||0)-1,t=(s.get(e)||0)-1;ue.set(e,n),s.set(e,t),n||(!ie.has(e)&&i&&e.removeAttribute(i),ie.delete(e)),t||e.removeAttribute(u)})),--le||(ue=new WeakMap,ue=new WeakMap,ie=new WeakSet,ce={})}}function se(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!1);var r=(0,a.Me)(e[0]).body;return fe(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,n,t)}var de=function(){return{getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"}};function ve(e,n){var t=(0,v.ht)(e,de());"prev"===n&&t.reverse();var r=t.indexOf((0,a.AW)((0,a.Me)(e)));return t.slice(r+1)[0]}function pe(){return ve(document.body,"next")}function me(){return ve(document.body,"prev")}function ge(e,n){var t=n||e.currentTarget,r=e.relatedTarget;return!r||!(0,a.r3)(t,r)}function be(e){(0,v.ht)(e,de()).forEach((function(e){e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function ye(e){e.querySelectorAll("[data-tabindex]").forEach((function(e){var n=e.dataset.tabindex;delete e.dataset.tabindex,n?e.setAttribute("tabindex",n):e.removeAttribute("tabindex")}))}var he={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Ee(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}var we=l.forwardRef((function(e,n){var t,r=l.useState(),u=(0,c.Z)(r,2),i=u[0],f=u[1];N((function(){return(0,a.G6)()&&f("button"),document.addEventListener("keydown",Ee),function(){document.removeEventListener("keydown",Ee)}}),[]);var s=(t={ref:n,tabIndex:0,role:i,"aria-hidden":!i||void 0},(0,o.Z)(t,$("focus-guard"),""),(0,o.Z)(t,"style",he),t);return l.createElement("span",q({},e,s))})),ke=l.createContext(null);function Re(e){var n=e.children,t=e.id,r=e.root,o=void 0===r?null:r,u=e.preserveTabOrder,i=void 0===u||u,a=function(e){var n=void 0===e?{}:e,t=n.id,r=n.root,o=l.useState(null),u=(0,c.Z)(o,2),i=u[0],a=u[1],f=X(),d=xe(),v=l.useMemo((function(){return{id:t,root:r,portalContext:d,uniqueId:f}}),[t,r,d,f]),p=l.useRef();return N((function(){return function(){null==i||i.remove()}}),[i,v]),N((function(){if(p.current!==v){p.current=v;var e=v.id,n=v.root,t=v.portalContext,r=v.uniqueId,o=e?document.getElementById(e):null,u=$("portal");if(o){var i=document.createElement("div");i.id=r,i.setAttribute(u,""),o.appendChild(i),a(i)}else{var c=n||(null==t?void 0:t.portalNode);c&&!(0,s.kK)(c)&&(c=c.current),c=c||document.body;var l=null;e&&((l=document.createElement("div")).id=e,c.appendChild(l));var f=document.createElement("div");f.id=r,f.setAttribute(u,""),(c=l||c).appendChild(f),a(f)}}}),[v]),i}({id:t,root:o}),f=l.useState(null),d=(0,c.Z)(f,2),v=d[0],m=d[1],g=l.useRef(null),b=l.useRef(null),y=l.useRef(null),h=l.useRef(null),E=!!v&&!v.modal&&v.open&&i&&!(!o&&!a);return l.useEffect((function(){if(a&&i&&(null==v||!v.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),function(){a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){a&&ge(e)&&("focusin"===e.type?ye:be)(a)}}),[a,i,null==v?void 0:v.modal]),l.createElement(ke.Provider,{value:l.useMemo((function(){return{preserveTabOrder:i,beforeOutsideRef:g,afterOutsideRef:b,beforeInsideRef:y,afterInsideRef:h,portalNode:a,setFocusManagerState:m}}),[i,a])},E&&a&&l.createElement(we,{"data-type":"outside",ref:g,onFocus:function(e){if(ge(e,a)){var n;null==(n=y.current)||n.focus()}else{var t=me()||(null==v?void 0:v.refs.domReference.current);null==t||t.focus()}}}),E&&a&&l.createElement("span",{"aria-owns":a.id,style:he}),a&&(0,p.createPortal)(n,a),E&&a&&l.createElement(we,{"data-type":"outside",ref:b,onFocus:function(e){if(ge(e,a)){var n;null==(n=h.current)||n.focus()}else{var t=pe()||(null==v?void 0:v.refs.domReference.current);null==t||t.focus(),(null==v?void 0:v.closeOnFocusOut)&&(null==v||v.onOpenChange(!1,e.nativeEvent))}}}))}var xe=function(){return l.useContext(ke)},Ie=[];function Me(e){Ie=Ie.filter((function(e){return e.isConnected})),e&&"body"!==(0,s.wk)(e)&&(Ie.push(e),Ie.length>20&&(Ie=Ie.slice(-20)))}function Oe(){return Ie.slice().reverse().find((function(e){return e.isConnected}))}var Ce=l.forwardRef((function(e,n){return l.createElement("button",q({},e,{type:"button",ref:n,tabIndex:-1,style:he}))}));function Te(e){var n=e.context,t=e.children,r=e.disabled,o=void 0!==r&&r,u=e.order,i=void 0===u?["content"]:u,c=e.guards,f=void 0===c||c,d=e.initialFocus,p=void 0===d?0:d,m=e.returnFocus,g=void 0===m||m,b=e.modal,y=void 0===b||b,h=e.visuallyHiddenDismiss,E=void 0!==h&&h,w=e.closeOnFocusOut,k=void 0===w||w,R=n.open,x=n.refs,I=n.nodeId,M=n.onOpenChange,O=n.events,C=n.dataRef,T=n.elements,L=T.domReference,A=T.floating,P="number"==typeof p&&p<0,S=(0,a.Ie)(L)&&P,K="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||f,Z=ee(i),j=ee(p),W=ee(g),F=Q(),_=xe(),U=l.useRef(null),q=l.useRef(null),B=l.useRef(!1),H=l.useRef(!1),V=null!=_,X=l.useCallback((function(e){return void 0===e&&(e=A),e?(0,v.ht)(e,de()):[]}),[A]),Y=l.useCallback((function(e){var n=X(e);return Z.current.map((function(e){return L&&"reference"===e?L:A&&"floating"===e?A:n})).filter(Boolean).flat()}),[L,A,Z,X]);function G(e){return!o&&E&&y?l.createElement(Ce,{ref:"start"===e?U:q,onClick:function(e){return M(!1,e.nativeEvent)}},"string"==typeof E?E:"Dismiss"):null}l.useEffect((function(){if(!o&&y){var e=(0,a.Me)(A);return e.addEventListener("keydown",n),function(){e.removeEventListener("keydown",n)}}function n(e){if("Tab"===e.key){(0,a.r3)(A,(0,a.AW)((0,a.Me)(A)))&&0===X().length&&!S&&(0,a.p7)(e);var n=Y(),t=(0,a.U9)(e);"reference"===Z.current[0]&&t===L&&((0,a.p7)(e),e.shiftKey?D(n[n.length-1]):D(n[1])),"floating"===Z.current[1]&&t===A&&e.shiftKey&&((0,a.p7)(e),D(n[0]))}}}),[o,L,A,y,Z,x,S,X,Y]),l.useEffect((function(){if(!o&&k)return A&&(0,s.Re)(L)?(L.addEventListener("focusout",n),L.addEventListener("pointerdown",e),!y&&A.addEventListener("focusout",n),function(){L.removeEventListener("focusout",n),L.removeEventListener("pointerdown",e),!y&&A.removeEventListener("focusout",n)}):void 0;function e(){H.current=!0,setTimeout((function(){H.current=!1}))}function n(e){var n=e.relatedTarget;queueMicrotask((function(){var t=!((0,a.r3)(L,n)||(0,a.r3)(A,n)||(0,a.r3)(n,A)||(0,a.r3)(null==_?void 0:_.portalNode,n)||null!=n&&n.hasAttribute($("focus-guard"))||F&&(oe(F.nodesRef.current,I).find((function(e){var t,r;return(0,a.r3)(null==(t=e.context)?void 0:t.elements.floating,n)||(0,a.r3)(null==(r=e.context)?void 0:r.elements.domReference,n)}))||function(e,n){for(var t,r=[],o=null==(t=e.find((function(e){return e.id===n})))?void 0:t.parentId;o;){var u=e.find((function(e){return e.id===o}));o=null==u?void 0:u.parentId,u&&(r=r.concat(u))}return r}(F.nodesRef.current,I).find((function(e){var t,r;return(null==(t=e.context)?void 0:t.elements.floating)===n||(null==(r=e.context)?void 0:r.elements.domReference)===n}))));n&&t&&!H.current&&n!==Oe()&&(B.current=!0,M(!1,e))}))}}),[o,L,A,y,I,F,_,M,k]),l.useEffect((function(){var e;if(!o){var n=Array.from((null==_||null==(e=_.portalNode)?void 0:e.querySelectorAll("["+$("portal")+"]"))||[]);if(A){var t=[A].concat(n,[U.current,q.current,Z.current.includes("reference")||S?L:null]).filter((function(e){return null!=e})),r=y||S?se(t,K,!K):se(t);return function(){r()}}}}),[o,L,A,y,Z,_,S,K]),N((function(){if(!o&&A){var e=(0,a.Me)(A),n=(0,a.AW)(e);queueMicrotask((function(){var e=Y(A),t=j.current,r=("number"==typeof t?e[t]:t.current)||A,o=(0,a.r3)(A,n);P||o||!R||D(r,{preventScroll:r===A})}))}}),[o,R,A,P,Y,j]),N((function(){if(!o&&A){var e=!1,n=(0,a.Me)(A),t=(0,a.AW)(n),r=C.current;return Me(t),O.on("openchange",u),function(){O.off("openchange",u);var t=(0,a.AW)(n),o=(0,a.r3)(A,t)||F&&oe(F.nodesRef.current,I).some((function(e){var n;return(0,a.r3)(null==(n=e.context)?void 0:n.elements.floating,t)}));(o||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&x.domReference.current&&Me(x.domReference.current);var i=Oe();W.current&&!B.current&&(0,s.Re)(i)&&(i===t||t===n.body||o)&&D(i,{cancelPrevious:!1,preventScroll:e})}}function u(n){var t=n.reason,r=n.event,o=n.nested;"escape-key"===t&&x.domReference.current&&Me(x.domReference.current),"hover"===t&&"mouseleave"===r.type&&(B.current=!0),"outside-press"===t&&(o?(B.current=!1,e=!0):B.current=!((0,a.Zj)(r)||(0,a.cr)(r)))}}),[o,A,W,C,x,O,F,I]),N((function(){if(!o&&_)return _.setFocusManagerState({modal:y,closeOnFocusOut:k,open:R,onOpenChange:M,refs:x}),function(){_.setFocusManagerState(null)}}),[o,_,y,R,M,x,k]),N((function(){if(!o&&A&&"function"==typeof MutationObserver&&!P){var e=function(){var e=A.getAttribute("tabindex");Z.current.includes("floating")||(0,a.AW)((0,a.Me)(A))!==x.domReference.current&&0===X().length?"0"!==e&&A.setAttribute("tabindex","0"):"-1"!==e&&A.setAttribute("tabindex","-1")};e();var n=new MutationObserver(e);return n.observe(A,{childList:!0,subtree:!0,attributes:!0}),function(){n.disconnect()}}}),[o,A,x,Z,X,P]);var z=!o&&K&&(V||y);return l.createElement(l.Fragment,null,z&&l.createElement(we,{"data-type":"inside",ref:null==_?void 0:_.beforeInsideRef,onFocus:function(e){if(y){var n=Y();D("reference"===i[0]?n[0]:n[n.length-1])}else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(B.current=!1,ge(e,_.portalNode)){var t=pe()||L;null==t||t.focus()}else{var r;null==(r=_.beforeOutsideRef.current)||r.focus()}}}),!S&&G("start"),t,G("end"),z&&l.createElement(we,{"data-type":"inside",ref:null==_?void 0:_.afterInsideRef,onFocus:function(e){if(y)D(Y()[0]);else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(k&&(B.current=!0),ge(e,_.portalNode)){var n=me()||L;null==n||n.focus()}else{var t;null==(t=_.afterOutsideRef.current)||t.focus()}}}))}var Le=new Set,Ae=l.forwardRef((function(e,n){var t=e.lockScroll,r=void 0!==t&&t,u=(0,i.Z)(e,m),c=X();return N((function(){if(r){Le.add(c);var e=/iP(hone|ad|od)|iOS/.test((0,a.Xf)()),n=document.body.style,t=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",u=window.innerWidth-document.documentElement.clientWidth,i=n.left?parseFloat(n.left):window.pageXOffset,l=n.top?parseFloat(n.top):window.pageYOffset;if(n.overflow="hidden",u&&(n[t]=u+"px"),e){var f,s,d=(null==(f=window.visualViewport)?void 0:f.offsetLeft)||0,v=(null==(s=window.visualViewport)?void 0:s.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(l-Math.floor(v))+"px",left:-(i-Math.floor(d))+"px",right:"0"})}return function(){Le.delete(c),0===Le.size&&(Object.assign(n,(0,o.Z)({overflow:""},t,"")),e&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(i,l)))}}}),[c,r]),l.createElement("div",q({ref:n},u,{style:y({position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0},u.style)}))}));function Pe(e){return(0,s.Re)(e.target)&&"BUTTON"===e.target.tagName}function Se(e){return(0,a.j7)(e)}function Ke(e,n){void 0===n&&(n={});var t=e.open,r=e.onOpenChange,o=e.dataRef,u=e.elements.domReference,i=n,c=i.enabled,f=void 0===c||c,s=i.event,d=void 0===s?"click":s,v=i.toggle,p=void 0===v||v,m=i.ignoreMouse,g=void 0!==m&&m,b=i.keyboardHandlers,y=void 0===b||b,h=l.useRef(),E=l.useRef(!1);return l.useMemo((function(){return f?{reference:{onPointerDown:function(e){h.current=e.pointerType},onMouseDown:function(e){0===e.button&&((0,a.r)(h.current,!0)&&g||"click"!==d&&(!t||!p||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick:function(e){"mousedown"===d&&h.current?h.current=void 0:(0,a.r)(h.current,!0)&&g||(!t||!p||o.current.openEvent&&"click"!==o.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown:function(e){h.current=void 0,e.defaultPrevented||!y||Pe(e)||(" "!==e.key||Se(u)||(e.preventDefault(),E.current=!0),"Enter"===e.key&&r(!t||!p,e.nativeEvent,"click"))},onKeyUp:function(e){e.defaultPrevented||!y||Pe(e)||Se(u)||" "===e.key&&E.current&&(E.current=!1,r(!t||!p,e.nativeEvent,"click"))}}}:{}}),[f,o,d,g,y,u,p,t,r])}var De={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Ne={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ze=function(e){var n,t;return{escapeKey:"boolean"==typeof e?e:null!=(n=null==e?void 0:e.escapeKey)&&n,outsidePress:"boolean"==typeof e?e:null==(t=null==e?void 0:e.outsidePress)||t}};function je(e,n){void 0===n&&(n={});var t=e.open,r=e.onOpenChange,u=e.nodeId,i=e.elements,c=i.reference,f=i.domReference,d=i.floating,v=e.dataRef,p=n,m=p.enabled,g=void 0===m||m,b=p.escapeKey,y=void 0===b||b,h=p.outsidePress,E=void 0===h||h,w=p.outsidePressEvent,k=void 0===w?"pointerdown":w,x=p.referencePress,I=void 0!==x&&x,M=p.referencePressEvent,O=void 0===M?"pointerdown":M,C=p.ancestorScroll,T=void 0!==C&&C,L=p.bubbles,A=p.capture,P=Q(),S=R("function"==typeof E?E:function(){return!1}),K="function"==typeof E?S:E,D=l.useRef(!1),N=l.useRef(!1),Z=Ze(L),j=Z.escapeKey,W=Z.outsidePress,F=Ze(A),_=F.escapeKey,U=F.outsidePress,q=R((function(e){if(t&&g&&y&&"Escape"===e.key){var n=P?oe(P.nodesRef.current,u):[];if(!j&&(e.stopPropagation(),n.length>0)){var o=!0;if(n.forEach((function(e){var n;null==(n=e.context)||!n.open||e.context.dataRef.current.__escapeKeyBubbles||(o=!1)})),!o)return}r(!1,(0,a.MM)(e)?e.nativeEvent:e,"escape-key")}})),B=R((function(e){var n;null==(n=(0,a.U9)(e))||n.addEventListener("keydown",(function n(){var t;q(e),null==(t=(0,a.U9)(e))||t.removeEventListener("keydown",n)}))})),H=R((function(e){var n=D.current;D.current=!1;var t=N.current;if(N.current=!1,("click"!==k||!t)&&!n&&("function"!=typeof K||K(e))){for(var o=(0,a.U9)(e),i="["+$("inert")+"]",c=(0,a.Me)(d).querySelectorAll(i),l=(0,s.kK)(o)?o:null;l&&!(0,s.Py)(l);){var v=(0,s.Ow)(l);if((0,s.Py)(v)||!(0,s.kK)(v))break;l=v}if(!c.length||!(0,s.kK)(o)||(0,a.ex)(o)||(0,a.r3)(o,d)||!Array.from(c).every((function(e){return!(0,a.r3)(l,e)}))){if((0,s.Re)(o)&&d){var p=o.clientWidth>0&&o.scrollWidth>o.clientWidth,m=o.clientHeight>0&&o.scrollHeight>o.clientHeight,g=m&&e.offsetX>o.clientWidth;if(m)"rtl"===(0,s.Dx)(o).direction&&(g=e.offsetX<=o.offsetWidth-o.clientWidth);if(g||p&&e.offsetY>o.clientHeight)return}var b=P&&oe(P.nodesRef.current,u).some((function(n){var t;return(0,a.Pe)(e,null==(t=n.context)?void 0:t.elements.floating)}));if(!((0,a.Pe)(e,d)||(0,a.Pe)(e,f)||b)){var y=P?oe(P.nodesRef.current,u):[];if(y.length>0){var h=!0;if(y.forEach((function(e){var n;null==(n=e.context)||!n.open||e.context.dataRef.current.__outsidePressBubbles||(h=!1)})),!h)return}r(!1,e,"outside-press")}}}})),V=R((function(e){var n;null==(n=(0,a.U9)(e))||n.addEventListener(k,(function n(){var t;H(e),null==(t=(0,a.U9)(e))||t.removeEventListener(k,n)}))}));return l.useEffect((function(){if(t&&g){v.current.__escapeKeyBubbles=j,v.current.__outsidePressBubbles=W;var e=(0,a.Me)(d);y&&e.addEventListener("keydown",_?B:q,_),K&&e.addEventListener(k,U?V:H,U);var n=[];return T&&((0,s.kK)(f)&&(n=(0,s.Kx)(f)),(0,s.kK)(d)&&(n=n.concat((0,s.Kx)(d))),!(0,s.kK)(c)&&c&&c.contextElement&&(n=n.concat((0,s.Kx)(c.contextElement)))),(n=n.filter((function(n){var t;return n!==(null==(t=e.defaultView)?void 0:t.visualViewport)}))).forEach((function(e){e.addEventListener("scroll",o,{passive:!0})})),function(){y&&e.removeEventListener("keydown",_?B:q,_),K&&e.removeEventListener(k,U?V:H,U),n.forEach((function(e){e.removeEventListener("scroll",o)}))}}function o(e){r(!1,e,"ancestor-scroll")}}),[v,d,f,c,y,K,k,t,r,T,g,j,W,q,_,B,H,U,V]),l.useEffect((function(){D.current=!1}),[K,k]),l.useMemo((function(){return g?{reference:(0,o.Z)({onKeyDown:q},De[O],(function(e){I&&r(!1,e.nativeEvent,"reference-press")})),floating:(0,o.Z)({onKeyDown:q,onMouseDown:function(){N.current=!0},onMouseUp:function(){N.current=!0}},Ne[k],(function(){D.current=!0}))}:{}}),[g,I,k,O,r,q])}function We(e){var n;void 0===e&&(e={});var t=e,r=t.open,o=void 0!==r&&r,u=t.onOpenChange,i=t.nodeId,a=l.useState(null),f=(0,c.Z)(a,2),v=f[0],p=f[1],m=(null==(n=e.elements)?void 0:n.reference)||v,g=(0,d.YF)(e),b=Q(),h=null!=J(),E=R((function(e,n,t){e&&(k.current.openEvent=n),x.emit("openchange",{open:e,event:n,reason:t,nested:h}),null==u||u(e,n,t)})),w=l.useRef(null),k=l.useRef({}),x=l.useState((function(){return Y()}))[0],I=X(),M=l.useCallback((function(e){var n=(0,s.kK)(e)?{getBoundingClientRect:function(){return e.getBoundingClientRect()},contextElement:e}:e;g.refs.setReference(n)}),[g.refs]),O=l.useCallback((function(e){((0,s.kK)(e)||null===e)&&(w.current=e,p(e)),((0,s.kK)(g.refs.reference.current)||null===g.refs.reference.current||null!==e&&!(0,s.kK)(e))&&g.refs.setReference(e)}),[g.refs]),C=l.useMemo((function(){return y(y({},g.refs),{},{setReference:O,setPositionReference:M,domReference:w})}),[g.refs,O,M]),T=l.useMemo((function(){return y(y({},g.elements),{},{domReference:m})}),[g.elements,m]),L=l.useMemo((function(){return y(y({},g),{},{refs:C,elements:T,dataRef:k,nodeId:i,floatingId:I,events:x,open:o,onOpenChange:E})}),[g,i,I,x,o,E,C,T]);return N((function(){var e=null==b?void 0:b.nodesRef.current.find((function(e){return e.id===i}));e&&(e.context=L)})),l.useMemo((function(){return y(y({},g),{},{context:L,refs:C,elements:T})}),[g,C,T,L])}function Fe(e,n){void 0===n&&(n={});var t=e.open,r=e.onOpenChange,o=e.events,u=e.refs,i=e.elements,c=i.floating,f=i.domReference,d=n,v=d.enabled,p=void 0===v||v,m=d.visibleOnly,g=void 0===m||m,b=l.useRef(!1),y=l.useRef(),h=l.useRef(!0);return l.useEffect((function(){if(p){var e=(0,s.Jj)(f);return e.addEventListener("blur",n),e.addEventListener("keydown",r,!0),function(){e.removeEventListener("blur",n),e.removeEventListener("keydown",r,!0)}}function n(){!t&&(0,s.Re)(f)&&f===(0,a.AW)((0,a.Me)(f))&&(b.current=!0)}function r(){h.current=!0}}),[c,f,t,p]),l.useEffect((function(){if(p)return o.on("openchange",e),function(){o.off("openchange",e)};function e(e){var n=e.reason;"reference-press"!==n&&"escape-key"!==n||(b.current=!0)}}),[o,p]),l.useEffect((function(){return function(){clearTimeout(y.current)}}),[]),l.useMemo((function(){return p?{reference:{onPointerDown:function(e){(0,a.cr)(e.nativeEvent)||(h.current=!1)},onMouseLeave:function(){b.current=!1},onFocus:function(e){if(!b.current){var n=(0,a.U9)(e.nativeEvent);if(g&&(0,s.kK)(n))try{if((0,a.G6)()&&(0,a.V5)())throw Error();if(!n.matches(":focus-visible"))return}catch(t){if(!h.current&&!(0,a.j7)(n))return}r(!0,e.nativeEvent,"focus")}},onBlur:function(e){b.current=!1;var n=e.relatedTarget,t=(0,s.kK)(n)&&n.hasAttribute($("focus-guard"))&&"outside"===n.getAttribute("data-type");y.current=window.setTimeout((function(){var o=(0,a.AW)(f?f.ownerDocument:document);(n||o!==f)&&((0,a.r3)(u.floating.current,n)||(0,a.r3)(f,n)||t||r(!1,e.nativeEvent,"focus"))}))}}}:{}}),[p,g,f,u,r])}var _e="active",Ue="selected";function qe(e,n,t){var r=new Map,o="item"===t,u=e;if(o&&e){e[_e],e[Ue];u=(0,i.Z)(e,[_e,Ue].map(g))}return y(y(y({},"floating"===t&&{tabIndex:-1}),u),n.map((function(n){var r=n?n[t]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce((function(e,n){return n?(Object.entries(n).forEach((function(n){var t,u=(0,c.Z)(n,2),i=u[0],l=u[1];o&&[_e,Ue].includes(i)||(0===i.indexOf("on")?(r.has(i)||r.set(i,[]),"function"==typeof l&&(null==(t=r.get(i))||t.push(l),e[i]=function(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return null==(e=r.get(i))?void 0:e.map((function(e){return e.apply(void 0,t)})).find((function(e){return void 0!==e}))})):e[i]=l)})),e):e}),{}))}function Be(e){void 0===e&&(e=[]);var n=e,t=l.useCallback((function(n){return qe(n,e,"reference")}),n),r=l.useCallback((function(n){return qe(n,e,"floating")}),n),o=l.useCallback((function(n){return qe(n,e,"item")}),e.map((function(e){return null==e?void 0:e.item})));return l.useMemo((function(){return{getReferenceProps:t,getFloatingProps:r,getItemProps:o}}),[t,r,o])}var He=!1;function Ve(e,n,t){switch(e){case"vertical":return n;case"horizontal":return t;default:return n||t}}function Xe(e,n){return Ve(n,e===x||e===I,e===M||e===O)}function Ye(e,n,t){return Ve(n,e===I,t?e===M:e===O)||"Enter"===e||" "==e||""===e}function Ge(e,n,t){return Ve(n,t?e===O:e===M,e===x)}function ze(e,n){var t=e.open,r=e.onOpenChange,o=e.refs,u=e.elements,i=u.domReference,f=u.floating,d=n.listRef,v=n.activeIndex,p=n.onNavigate,m=void 0===p?function(){}:p,g=n.enabled,b=void 0===g||g,h=n.selectedIndex,E=void 0===h?null:h,w=n.allowEscape,k=void 0!==w&&w,x=n.loop,C=void 0!==x&&x,K=n.nested,Z=void 0!==K&&K,j=n.rtl,W=void 0!==j&&j,F=n.virtual,_=void 0!==F&&F,U=n.focusItemOnOpen,q=void 0===U?"auto":U,B=n.focusItemOnHover,H=void 0===B||B,V=n.openOnArrowKeyDown,X=void 0===V||V,Y=n.disabledIndices,G=void 0===Y?void 0:Y,z=n.orientation,$=void 0===z?"vertical":z,ne=n.cols,te=void 0===ne?1:ne,re=n.scrollItemIntoView,ue=void 0===re||re,ie=n.virtualItemRef;var ce=J(),le=Q(),ae=R(m),fe=l.useRef(q),se=l.useRef(null!=E?E:-1),de=l.useRef(null),ve=l.useRef(!0),pe=l.useRef(ae),me=l.useRef(!!f),ge=l.useRef(!1),be=l.useRef(!1),ye=ee(G),he=ee(t),Ee=ee(ue),we=l.useState(),ke=(0,c.Z)(we,2),Re=ke[0],xe=ke[1],Ie=l.useState(),Me=(0,c.Z)(Ie,2),Oe=Me[0],Ce=Me[1],Te=R((function(e,n,t){void 0===t&&(t=!1);var r=e.current[n.current];r&&(_?(xe(r.id),null==le||le.events.emit("virtualfocus",r),ie&&(ie.current=r)):D(r,{preventScroll:!0,sync:!(!(0,a.V5)()||!(0,a.G6)())&&(He||ge.current)}),requestAnimationFrame((function(){var e=Ee.current;e&&r&&(t||!ve.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))})))}));N((function(){document.createElement("div").focus({get preventScroll(){return He=!0,!1}})}),[]),N((function(){b&&(t&&f?fe.current&&null!=E&&(be.current=!0,ae(E)):me.current&&(se.current=-1,pe.current(null)))}),[b,t,f,E,ae]),N((function(){if(b&&t&&f)if(null==v){if(ge.current=!1,null!=E)return;if(me.current&&(se.current=-1,Te(d,se)),!me.current&&fe.current&&(null!=de.current||!0===fe.current&&null==de.current)){var e=0;!function n(){if(null==d.current[0]){if(e<2)(e?requestAnimationFrame:queueMicrotask)(n);e++}else se.current=null==de.current||Ye(de.current,$,W)||Z?L(d,ye.current):A(d,ye.current),de.current=null,ae(se.current)}()}}else T(d,v)||(se.current=v,Te(d,se,be.current),be.current=!1)}),[b,t,f,v,E,Z,d,$,W,ae,Te,ye]),N((function(){var e;if(b&&!f&&le&&!_&&me.current){var n=le.nodesRef.current,t=null==(e=n.find((function(e){return e.id===ce})))||null==(e=e.context)?void 0:e.elements.floating,r=(0,a.AW)((0,a.Me)(f)),o=n.some((function(e){return e.context&&(0,a.r3)(e.context.elements.floating,r)}));t&&!o&&ve.current&&t.focus({preventScroll:!0})}}),[b,f,le,ce,_]),N((function(){if(b&&le&&_&&!ce)return le.events.on("virtualfocus",e),function(){le.events.off("virtualfocus",e)};function e(e){Ce(e.id),ie&&(ie.current=e)}}),[b,le,_,ce,ie]),N((function(){pe.current=ae,me.current=!!f})),N((function(){t||(de.current=null)}),[t]);var Le=null!=v,Ae=l.useMemo((function(){function e(e){if(t){var n=d.current.indexOf(e);-1!==n&&ae(n)}}return y({onFocus:function(n){e(n.currentTarget)},onClick:function(e){return e.currentTarget.focus({preventScroll:!0})}},H&&{onMouseMove:function(n){e(n.currentTarget)},onPointerLeave:function(e){var n=e.pointerType;ve.current&&"touch"!==n&&(se.current=-1,Te(d,se),ae(null),_||D(o.floating.current,{preventScroll:!0}))}})}),[t,o,Te,H,d,ae,_]);return l.useMemo((function(){if(!b)return{};var e=ye.current;function n(n){if(ve.current=!1,ge.current=!0,he.current||n.currentTarget!==o.floating.current){if(Z&&Ge(n.key,$,W))return(0,a.p7)(n),r(!1,n.nativeEvent,"list-navigation"),void((0,s.Re)(i)&&!_&&i.focus());var u=se.current,c=L(d,e),l=A(d,e);if("Home"===n.key&&((0,a.p7)(n),se.current=c,ae(se.current)),"End"===n.key&&((0,a.p7)(n),se.current=l,ae(se.current)),!(te>1&&(se.current=S(d,{event:n,orientation:$,loop:C,cols:te,disabledIndices:e,minIndex:c,maxIndex:l,prevIndex:se.current,stopEvent:!0}),ae(se.current),"both"===$))&&Xe(n.key,$)){if((0,a.p7)(n),t&&!_&&(0,a.AW)(n.currentTarget.ownerDocument)===n.currentTarget)return se.current=Ye(n.key,$,W)?c:l,void ae(se.current);Ye(n.key,$,W)?se.current=C?u>=l?k&&u!==d.current.length?-1:c:P(d,{startingIndex:u,disabledIndices:e}):Math.min(l,P(d,{startingIndex:u,disabledIndices:e})):se.current=C?u<=c?k&&-1!==u?d.current.length:l:P(d,{startingIndex:u,decrement:!0,disabledIndices:e}):Math.max(c,P(d,{startingIndex:u,decrement:!0,disabledIndices:e})),T(d,se.current)?ae(null):ae(se.current)}}}function u(e){"auto"===q&&(0,a.Zj)(e.nativeEvent)&&(fe.current=!0)}var c=_&&t&&Le&&{"aria-activedescendant":Oe||Re},l=d.current.find((function(e){return(null==e?void 0:e.id)===Re}));return{reference:y(y({},c),{},{onKeyDown:function(o){ve.current=!1;var u,i,c,f,s=0===o.key.indexOf("Arrow"),v=function(e,n,t){return Ve(n,t?e===M:e===O,e===I)}(o.key,$,W),p=Ge(o.key,$,W),m=Xe(o.key,$),g=(Z?v:m)||"Enter"===o.key||""===o.key.trim();if(_&&t){var b=null==le?void 0:le.nodesRef.current.find((function(e){return null==e.parentId})),y=le&&b?(u=le.nodesRef.current,i=b.id,f=-1,function e(n,t){t>f&&(c=n,f=t),oe(u,n).forEach((function(n){e(n.id,t+1)}))}(i,0),u.find((function(e){return e.id===c}))):null;if(s&&y&&ie){var h,w=new KeyboardEvent("keydown",{key:o.key,bubbles:!0});if(v||p){var k,R,x=(null==(k=y.context)?void 0:k.elements.domReference)===o.currentTarget,C=p&&!x?null==(R=y.context)?void 0:R.elements.domReference:v?l:null;C&&((0,a.p7)(o),C.dispatchEvent(w),Ce(void 0))}if(m&&y.context)if(y.context.open&&y.parentId&&o.currentTarget!==y.context.elements.domReference)return(0,a.p7)(o),void(null==(h=y.context.elements.domReference)||h.dispatchEvent(w))}return n(o)}(t||X||!s)&&(g&&(de.current=Z&&m?null:o.key),Z?v&&((0,a.p7)(o),t?(se.current=L(d,e),ae(se.current)):r(!0,o.nativeEvent,"list-navigation")):m&&(null!=E&&(se.current=E),(0,a.p7)(o),!t&&X?r(!0,o.nativeEvent,"list-navigation"):n(o),t&&ae(se.current)))},onFocus:function(){t&&ae(null)},onPointerDown:function(e){fe.current=q,"auto"===q&&(0,a.cr)(e.nativeEvent)&&(fe.current=!0)},onMouseDown:u,onClick:u}),floating:y(y({"aria-orientation":"both"===$?void 0:$},!(0,a.Ie)(i)&&c),{},{onKeyDown:n,onPointerMove:function(){ve.current=!0}}),item:Ae}}),[i,o,Re,Oe,ye,he,d,b,$,W,_,t,Le,Z,E,X,k,te,C,q,ae,r,Ae,le,ie])}var Je=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Qe(e,n){var t;void 0===n&&(n={});var r=e.open,u=e.floatingId,i=n,c=i.enabled,a=void 0===c||c,f=i.role,s=void 0===f?"dialog":f,d=null!=(t=Je.get(s))?t:s,v=X(),p=null!=J();return l.useMemo((function(){if(!a)return{};var e=y({id:u},d&&{role:d});return"tooltip"===d||"label"===s?{reference:(0,o.Z)({},"aria-"+("label"===s?"labelledby":"describedby"),r?u:void 0),floating:e}:{reference:y(y(y(y(y({"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===d?"dialog":d,"aria-controls":r?u:void 0},"listbox"===d&&{role:"combobox"}),"menu"===d&&{id:v}),"menu"===d&&p&&{role:"menuitem"}),"select"===s&&{"aria-autocomplete":"none"}),"combobox"===s&&{"aria-autocomplete":"list"}),floating:y(y({},e),"menu"===d&&{"aria-labelledby":v}),item:function(e){var n=e.active,t=e.selected,r=y({role:"option"},n&&{id:u+"-option"});switch(s){case"select":return y(y({},r),{},{"aria-selected":n&&t});case"combobox":return y(y({},r),n&&{"aria-selected":!0})}return{}}}}),[a,s,d,r,u,v,p])}function $e(e,n){var t,r=e.open,o=e.dataRef,i=n.listRef,c=n.activeIndex,f=n.onMatch,s=n.onTypingChange,d=n.enabled,v=void 0===d||d,p=n.findMatch,m=void 0===p?null:p,g=n.resetMs,b=void 0===g?750:g,y=n.ignoreKeys,h=void 0===y?[]:y,E=n.selectedIndex,w=void 0===E?null:E,k=l.useRef(),x=l.useRef(""),I=l.useRef(null!=(t=null!=w?w:c)?t:-1),M=l.useRef(null),O=R(f),C=R(s),T=ee(m),L=ee(h);return N((function(){r&&(clearTimeout(k.current),M.current=null,x.current="")}),[r]),N((function(){var e;r&&""===x.current&&(I.current=null!=(e=null!=w?w:c)?e:-1)}),[r,w,c]),l.useMemo((function(){if(!v)return{};function e(e){e?o.current.typing||(o.current.typing=e,C(e)):o.current.typing&&(o.current.typing=e,C(e))}function n(e,n,t){var r=T.current?T.current(n,t):n.find((function(e){return 0===(null==e?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase()))}));return r?e.indexOf(r):-1}function t(t){var o=i.current;if(x.current.length>0&&" "!==x.current[0]&&(-1===n(o,o,x.current)?e(!1):" "===t.key&&(0,a.p7)(t)),!(null==o||L.current.includes(t.key)||1!==t.key.length||t.ctrlKey||t.metaKey||t.altKey)){r&&" "!==t.key&&((0,a.p7)(t),e(!0)),o.every((function(e){var n,t;return!e||(null==(n=e[0])?void 0:n.toLocaleLowerCase())!==(null==(t=e[1])?void 0:t.toLocaleLowerCase())}))&&x.current===t.key&&(x.current="",I.current=M.current),x.current+=t.key,clearTimeout(k.current),k.current=setTimeout((function(){x.current="",I.current=M.current,e(!1)}),b);var c=I.current,l=n(o,[].concat((0,u.Z)(o.slice((c||0)+1)),(0,u.Z)(o.slice(0,(c||0)+1))),x.current);-1!==l?(O(l),M.current=l):" "!==t.key&&(x.current="",e(!1))}}return{reference:{onKeyDown:t},floating:{onKeyDown:t,onKeyUp:function(n){" "===n.key&&e(!1)}}}}),[v,r,o,i,b,L,T,O,C])}function en(e,n){for(var t=(0,c.Z)(e,2),r=t[0],o=t[1],u=!1,i=n.length,l=0,a=i-1;l<i;a=l++){var f=n[l]||[0,0],s=(0,c.Z)(f,2),d=s[0],v=s[1],p=n[a]||[0,0],m=(0,c.Z)(p,2),g=m[0],b=m[1];v>=o!=b>=o&&r<=(g-d)*(o-v)/(b-v)+d&&(u=!u)}return u}function nn(e){void 0===e&&(e={});var n,t=e,r=t.buffer,o=void 0===r?.5:r,u=t.blockPointerEvents,i=void 0!==u&&u,l=t.requireIntent,f=void 0===l||l,d=!1,v=null,p=null,m=performance.now();var g=function(e){var t=e.x,r=e.y,u=e.placement,i=e.elements,l=e.onClose,g=e.nodeId,b=e.tree;return function(e){function y(){clearTimeout(n),l()}if(clearTimeout(n),i.domReference&&i.floating&&null!=u&&null!=t&&null!=r){var h=e.clientX,E=e.clientY,w=[h,E],k=(0,a.U9)(e),R="mouseleave"===e.type,x=(0,a.r3)(i.floating,k),I=(0,a.r3)(i.domReference,k),M=i.domReference.getBoundingClientRect(),O=i.floating.getBoundingClientRect(),C=u.split("-")[0],T=t>O.right-O.width/2,L=r>O.bottom-O.height/2,A=function(e,n){return e[0]>=n.x&&e[0]<=n.x+n.width&&e[1]>=n.y&&e[1]<=n.y+n.height}(w,M),P=O.width>M.width,S=O.height>M.height,K=(P?M:O).left,D=(P?M:O).right,N=(S?M:O).top,Z=(S?M:O).bottom;if(!x||(d=!0,R))if(I&&(d=!1),!I||R){if(!(R&&(0,s.kK)(e.relatedTarget)&&(0,a.r3)(i.floating,e.relatedTarget)||b&&oe(b.nodesRef.current,g).some((function(e){var n=e.context;return null==n?void 0:n.open})))){if("top"===C&&r>=M.bottom-1||"bottom"===C&&r<=M.top+1||"left"===C&&t>=M.right-1||"right"===C&&t<=M.left+1)return y();var j=[];switch(C){case"top":j=[[K,M.top+1],[K,O.bottom-1],[D,O.bottom-1],[D,M.top+1]];break;case"bottom":j=[[K,O.top+1],[K,M.bottom-1],[D,M.bottom-1],[D,O.top+1]];break;case"left":j=[[O.right-1,Z],[O.right-1,N],[M.left+1,N],[M.left+1,Z]];break;case"right":j=[[M.right-1,Z],[M.right-1,N],[O.left+1,N],[O.left+1,Z]]}if(!en([h,E],j)){if(d&&!A)return y();if(!R&&f){var W=function(e,n){var t=performance.now(),r=t-m;if(null===v||null===p||0===r)return v=e,p=n,m=t,null;var o=e-v,u=n-p,i=Math.sqrt(o*o+u*u);return v=e,p=n,m=t,i/r}(e.clientX,e.clientY);if(null!==W&&W<.1)return y()}en([h,E],function(e){var n=(0,c.Z)(e,2),t=n[0],r=n[1];switch(C){case"top":var u=[P?t+o/2:T?t+4*o:t-4*o,r+o+1],i=[P?t-o/2:T?t+4*o:t-4*o,r+o+1],l=[[O.left,T||P?O.bottom-o:O.top],[O.right,T?P?O.bottom-o:O.top:O.bottom-o]];return[u,i].concat(l);case"bottom":var a=[P?t+o/2:T?t+4*o:t-4*o,r-o],f=[P?t-o/2:T?t+4*o:t-4*o,r-o],s=[[O.left,T||P?O.top+o:O.bottom],[O.right,T?P?O.top+o:O.bottom:O.top+o]];return[a,f].concat(s);case"left":var d=[t+o+1,S?r+o/2:L?r+4*o:r-4*o],v=[t+o+1,S?r-o/2:L?r+4*o:r-4*o],p=[[L||S?O.right-o:O.left,O.top],[L?S?O.right-o:O.left:O.right-o,O.bottom]];return[].concat(p,[d,v]);case"right":var m=[t-o,S?r+o/2:L?r+4*o:r-4*o],g=[t-o,S?r-o/2:L?r+4*o:r-4*o],b=[[L||S?O.left+o:O.right,O.top],[L?S?O.left+o:O.right:O.left+o,O.bottom]];return[m,g].concat(b)}}([t,r]))?!d&&f&&(n=window.setTimeout(y,40)):y()}}}else d=!0}}};return g.__options={blockPointerEvents:i},g}}}]);
//# sourceMappingURL=5c0b189e-3ca35e82affd9a3b66b1.js.map